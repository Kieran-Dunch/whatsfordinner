<div data-controller="comments" data-comments-recipe-value=<%=@recipe.id%> data-comments-userecipe-value=<%=@user_recipe.id%>>
  <h4 data-comments-target="intro">
      <% if @recipe.comments.length == 0 %>
        <%= "There is no comments yet!" %>
      <% else %>
        <%= "Comments:" %>
      <% end %>
  </h4>
  <div data-comments-target="list">
    <% @recipe.comments.each do |comment| %>
      <div class="comment-container" id="<%=comment.id%>-comment">
        <li class="comment-list"> <%= comment.user.first_name %> - <em><%= comment.content %></em></li>
        <% if comment.user_id == current_user.id %>
          <%= link_to delete_comment_recipe_path(@recipe, comment), class:"delete-comment", data: { controller: 'comments', action: 'comments#delete' } do %>
            <i class="fa-solid fa-trash-can" style="color:#2B9348"></i>
            <p style="display:none" data-comments-target="id"><%= comment.id %> </p>
          <% end %>
        <% end %>
      </div>
      <hr id="<%=comment.id%>-hr">
    <% end %>
  </div>
  <div class="comment-form">
    <form data-comments-target="input">
      <input data-comments-target="field" type="text" name="input" class="comment-input">
      <button data-action="click->comments#add" class="btn-submit">Submit</button>
    </form>
  </div>
</div>
